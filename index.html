<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva de Periodismo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Malla Interactiva de Periodismo</h1>
  <button onclick="reiniciarMalla()">ðŸ”„ Reiniciar malla</button>
  <div id="malla-container"></div>
  <script src="script.js"></script>
</body>
</html>
// script.js

const ramos = [
  // (Lista completa de ramos del 1Âº al 9Âº semestre, ya agregados anteriormente...)
  // Esta parte no cambia
];

const estadoRamos = JSON.parse(localStorage.getItem("estadoRamos")) || {};

function crearMalla() {
  const container = document.getElementById("grid-malla");
  container.innerHTML = "";

  const semestres = [...new Set(ramos.map(r => r.semestre))];
  semestres.forEach(sem => {
    const div = document.createElement("div");
    div.classList.add("semestre");

    const titulo = document.createElement("h3");
    titulo.textContent = `Semestre ${sem}`;
    div.appendChild(titulo);

    ramos.filter(r => r.semestre === sem).forEach(ramo => {
      const btn = document.createElement("div");
      btn.textContent = `${ramo.id} - ${ramo.nombre}`;
      btn.classList.add("ramo");

      const prereqCumplido = ramo.prerequisitos.every(p => estadoRamos[p]);

      if (!prereqCumplido && ramo.prerequisitos.length > 0) {
        btn.classList.add("bloqueado");
      } else if (estadoRamos[ramo.id]) {
        btn.classList.add("aprobado");
      } else {
        btn.classList.add("no-aprobado");
      }

      btn.onclick = () => {
        if (btn.classList.contains("bloqueado")) return;
        estadoRamos[ramo.id] = !estadoRamos[ramo.id];
        localStorage.setItem("estadoRamos", JSON.stringify(estadoRamos));
        crearMalla();
      };

      div.appendChild(btn);
    });

    container.appendChild(div);
  });
}

function reiniciarMalla() {
  if (confirm("Â¿EstÃ¡s segura que quieres reiniciar toda la malla?")) {
    localStorage.removeItem("estadoRamos");
    location.reload();
  }
}

crearMalla();

